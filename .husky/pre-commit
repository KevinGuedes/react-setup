#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo 'ğŸ—ï¸ğŸ‘· Formatting, styling and building your project before committing changes'

npm run lint:fix ||
(
  echo 'ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤ ESLint Check Failed. ğŸ˜¤ğŸ€ğŸ‘‹ğŸ˜¤
    Make the required changes listed above, add changes and try to commit again.'
  false;
)

npm run pretty ||
(
  echo 'ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤® Prettier Check Failed. ğŸ¤¢ğŸ¤®ğŸ¤¢ğŸ¤®
    Run npm run format, add changes and try commit again.';
  false;
)

echo 'ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤” Code looks good. Trying to build project now. ğŸ¤”ğŸ¤”ğŸ¤”ğŸ¤”'

npm run build ||
(
  echo 'âŒğŸ‘·ğŸ”¨âŒ Build Failed. âŒğŸ‘·ğŸ”¨âŒ
    Build failed: View the errors above to see why.'
  false;
)

echo 'âœ…âœ…âœ…âœ… Winner winner chicken dinner. I am committing changes now. âœ…âœ…âœ…âœ…'
